<div class="item-detail-container">
  <div class="gallery-container">
    <mat-chip
      class="date-sticker"
      *ngIf="data.imagesSource[currentIndex].datetime">
      <mat-icon>schedule</mat-icon>
      {{ getCorrectDate(data.imagesSource[currentIndex]?.datetime) | date }}
    </mat-chip>
    <div class="button-content">
      <button mat-icon-button
        class="mat-elevation-z7"
        [disabled]="currentIndex === 0"
        (click)="currentIndex = currentIndex - 1">
        <mat-icon>navigate_before</mat-icon>
      </button>
      <button mat-icon-button
        [disabled]="currentIndex === total - 1"
        (click)="currentIndex = currentIndex + 1">
        <mat-icon>navigate_next</mat-icon>
      </button>
    </div>
    <div class="gallery-content"
    [ngStyle]="{ 'width': total + '00%',
    'right': currentIndex + '00%' }">
      <div *ngFor="let image of data.imagesSource"
        class="image-content mat-elevation-z3"
        [style.width]="(100 / total) + '%'">
        <img
          class="image"
          loading="lazy"
          [src]="image.link"
          alt="Image" />
      </div>
    </div>
    <div class="description-container">
      <mat-card class="description-content">
        <mat-card-header>
          <mat-card-title>
            {{ data.imagesSource[currentIndex]?.title }}
          </mat-card-title>
        </mat-card-header>
        <mat-card-content>
          <span>{{ data.imagesSource[currentIndex]?.description }}</span>
        </mat-card-content>
      </mat-card>              
    </div>
  </div>
  <div class="image-link-container">
    <div *ngFor="let imageLink of data.imagesSource; index as i"
      class="image-link-content"
      [class.image-link-content-selected]="currentIndex === i">
      <img class="image-link" [src]="imageLink.link" 
        alt="List of Images" (click)="currentIndex = i" />
    </div>
  </div>
</div>

